<div class="cont" *ngIf="isLogin;else el" xmlns="">
  <div class="custcont">
    <form class="filter" (ngSubmit)="onSubmit()" #createForm="ngForm">
      <div class="cont">
        <div class="row">
          <div class="col title" style="margin-top: 10px">Технические характеристики
          </div>
        </div>
        <hr/>
        <div class="row">
          <div class="col-sm-1 sel">Марка</div>
          <div class="col-sm-9">
            <select class="custom-select s"
                    name="mark"
                    [(ngModel)]="formAdvert.mark"
                    #mark="ngModel"
                    (change)='selectModel(mark.value)'
            >
              <option *ngFor="let mark of  marks" [ngValue]="mark">{{mark.title}}</option>
            </select>
          </div>
        </div>
        <hr/>
        <div *ngIf="formAdvert.mark; else dis">
          <div class="row">
            <div class="col-sm-1 sel">Модель</div>
            <div class="col-sm-9">
              <select class="custom-select s"
                      name="mod"
                      [(ngModel)]="formAdvert.model"
                      #mod="ngModel">
                <option *ngFor="let model of  models" [ngValue]="model">{{model.title}}</option>
              </select>
            </div>
          </div>
          <hr/>
        </div>
        <ng-template #dis style="display: none">
        </ng-template>
        <div *ngIf="formAdvert.model; else dis">
          <div class="row">
            <div class="col-sm-1 sel">Год</div>
            <div class="col-sm-9">
              <select
                class="custom-select da"
                name="startD"
                [(ngModel)]="formAdvert.buyday"
                #startD="ngModel"
                (change)='selectGeneration(formAdvert.model,startD.value)'>
                <option *ngFor="let item of date" [ngValue]="item">{{item}}</option>
              </select>
            </div>
          </div>
          <hr>
        </div>
        <ng-template #dis style="display: none">
        </ng-template>


        <div *ngIf="formAdvert.buyday; else dis">
          <div class="row">
            <div class="col-sm-1 sel">Поколение</div>
            <div class="col-sm-9">
              <select class="custom-select s"
                      name="gen"
                      [(ngModel)]="formAdvert.generations"
                      #gen="ngModel"
                      (change)='selectCarBodyModif(gen.value)'>
                <option *ngFor="let gen of  generations" [ngValue]="gen">{{gen.title}}</option>
              </select>
            </div>
          </div>
          <hr>
        </div>
        <ng-template #dis style="display: none">
        </ng-template>

        <div *ngIf="formAdvert.generations; else dis">
          <div class="row">
            <div class="col-sm-1 sel">Кузов</div>
            <div class="col-sm-9">
              <select class="custom-select s"
                      name="car"
                      [(ngModel)]="formAdvert.carbodyTitle"
                      #car="ngModel">
                <option *ngFor="let c of  carbody" [ngValue]="c.title">{{c.title}}</option>
              </select>
            </div>
          </div>
          <hr>
        </div>

        <div *ngIf="formAdvert.carbodyTitle; else dis">
          <div class="row">
            <div class="col-sm-1 sel">Коробка</div>
            <div class="col-sm-9">
              <select class="custom-select s"
                      name="geart"
                      [(ngModel)]="gear"
                      #geart="ngModel">
                <option *ngFor="let c of  gearboxS" [ngValue]="c">{{c}}</option>

              </select>
            </div>
          </div>
          <hr>
        </div>
        <ng-template #dis style="display: none">
        </ng-template>
        <div *ngIf="gear; else dis">
          <div class="row">
            <div class="col-sm-1 sel">Привод</div>
            <div class="col-sm-9">
              <select class="custom-select s"
                      name="transm"
                      [(ngModel)]="typeDrive"
                      #transm="ngModel"
                      (change)='setModif()'>
                <option *ngFor="let c of transmType" [ngValue]="c">{{c}}</option>
              </select>
            </div>
          </div>
          <hr>
        </div>
        <ng-template #dis style="display: none">
        </ng-template>
        <div *ngIf="typeDrive; else dis">
          <div class="row">
            <div class="col-sm-1 sel">Модификация</div>
            <div class="col-sm-9">
              <select class="custom-select s"
                      name="modif"
                      [(ngModel)]="formAdvert.modifications"
                      #modif="ngModel"
              >
                <option *ngFor="let c of modifications" [ngValue]="c">{{c.title}}</option>
              </select>
            </div>
          </div>
          <hr>
        </div>
        <ng-template #dis style="display: none">
        </ng-template>
        <div class="row">
          <div class="col title">Внешний вид
          </div>
        </div>
        <hr/>
        <div class="row">
          <div class="col-sm-1 sel">Фото</div>
          <div class="col-sm-3">
            <input type="file" multiple (change)="addPhoto($event)"/>
          </div>
        </div>

        <div class="row" style="margin-top: 20px">
          <div class="col-sm-1 sel">
            Цвет
          </div>
          <div class="col-sm-3">
            <input type="text" class="form-control"
                   placeholder="цвет"
                   [(ngModel)]="formAdvert.colour"
                   required
                   name="colour"
                   #colour="ngModel">
          </div>
          <div class="errors" *ngIf="colour.invalid && colour.touched">
            <div *ngIf="colour.errors.required">Введите цвет</div>
          </div>
          <div class="col-sm-1 sel">Пробег</div>
          <div class="col-sm-3">
            <input type="number" class="form-control"
                   placeholder="100000000"
                   [(ngModel)]="formAdvert.mileage"
                   required
                   name="mileage"
                   #mileage="ngModel">
          </div>
          <div class="errors" *ngIf="mileage.invalid && mileage.touched">
            <div *ngIf="mileage.errors.required">Введите пробег</div>
          </div>

          <div class="sel">
            был в дтп
          </div>
          <div class="col-sm-1 sel">

            <input type="checkbox"
                   [(ngModel)]="formAdvert.broken"
                   name="broken"
                   #broken>
          </div>
        </div>
        <hr/>
        <div class="row">
          <div class="col title">Место осмотра
          </div>
        </div>
        <hr/>
        <div class="row">
          <div class="col-sm-1 sel">Город</div>
          <div class="col-sm-3">
            <input type="text" class="form-control"
                   placeholder="Воронеж"
                   [(ngModel)]="formAdvert.city"
                   required
                   minlength="3"
                   name="city"
                   #city="ngModel">
          </div>
          <div class="errors" *ngIf="city.invalid && city.touched">
            <div *ngIf="city.errors.required">Введите город</div>
            <div *ngIf="city.errors.minlength">Назание не может быть меньше 3</div>
          </div>
          <div class="col-sm-1 sel">Место</div>
          <div class="col-sm-3">
            <input type="text" class="form-control"
                   placeholder="место"
                   [(ngModel)]="formAdvert.place"
                   required
                   minlength="3"
                   name="place"
                   #place="ngModel">
          </div>
          <div class="errors" *ngIf="place.invalid && place.touched">
            <div *ngIf="place.errors.required">Введите место встречи</div>
            <div *ngIf="place.errors.minlength">Назание места не может быть меньше 3</div>
          </div>
        </div>
        <div class="row" style="margin-top: 20px">
          <div class="col-sm-1 sel">Телефон</div>
          <div class="col-sm-3">
            <input type="text" class="form-control"
                   placeholder="89009009090"
                   [(ngModel)]="formAdvert.phone"
                   onkeyup="this.value = this.value.replace(/[^\d]/,'');"
                   required
                   minlength="11"
                   maxlength="11"
                   name="phone"
                   #phone="ngModel">
          </div>
          <div class="errors" *ngIf="phone.invalid && phone.touched">
            <div *ngIf="phone.errors.required">Введите телефон для связи</div>
            <div *ngIf="phone.errors.minlength">Введите коректный номер</div>
          </div>
        </div>
        <hr/>
        <div class="row">
          <div class="col title">Цена
          </div>
        </div>
        <hr/>
        <div class="row">
          <div class="col-sm-1 sel">
            Цена
          </div>
          <div class="col-sm-3">
            <input type="text" class="form-control"
                   [(ngModel)]="formAdvert.price"
                   onkeyup="this.value = this.value.replace(/[^\d]/,'');"
                   required
                   name="price"
                   #price="ngModel">
          </div>
          <div class="errors" *ngIf="price.invalid && price.touched">
            <div *ngIf="price.errors.required">Введите цену автомобиля</div>
          </div>
          <div class="sel">
            Возможен обмен
          </div>
          <div class="col-sm-1 sel">

            <input type="checkbox"
                   [(ngModel)]="formAdvert.swap"
                   name="swap"
                   #swap>
          </div>

        </div>
        <hr/>
        <div class="row">
          <div class="col title">Регистрационные данные
          </div>
        </div>
        <hr/>
        <div class="row">
          <div class="col-sm-2 sel">
            Количество владельцев
          </div>
          <div class="col-sm-3 sel ">
            <select
              class="custom-select da"
              name="owners"
              required
              [(ngModel)]="formAdvert.owners"
              #owners="ngModel">
              <option *ngFor="let item of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]"
                      [ngValue]="item">{{item}}</option>
            </select>
          </div>
          <div class="errors sel" *ngIf="owners.invalid && owners.touched">
            <div *ngIf="owners.errors.required">Укажите владельцев</div>
          </div>
          <div class="sel">
            птс оригинал
          </div>
          <div class="col-sm-3 sel">
            <input type="checkbox"
                   [(ngModel)]="formAdvert.pts"
                   name="pts"
                   #pts>

          </div>

        </div>
        <div class="row" style="margin-top: 20px">
          <div class="col-sm-2 sel">
            На гарантии до
          </div>
          <div class="col-sm-3 sel">
            <input type="date" class="form-control"
                   [(ngModel)]="formAdvert.dayofwarranty"
                   name="dayofwarranty"
                   #dayofwarranty="ngModel">
          </div>
        </div>
        <div class="row" style="margin-top: 20px">
          <div class="col-sm-1 sel">Гос. номер</div>
          <div class="col-sm-3">
            <input type="text" class="form-control"
                   placeholder="А111АА77"
                   pattern="[[АВЕКМНОРСТУХ]\d{3}(?<!000)[АВЕКМНОРСТУХ]{2}\d{2,3}]*"
                   [(ngModel)]="formAdvert.gosnumber"
                   required
                   name="gosnumber"
                   #gosnumber="ngModel">
            <div class="errors" *ngIf="gosnumber.invalid && gosnumber.touched">
              <div *ngIf="gosnumber.errors.required">Введите город</div>
              <div *ngIf="gosnumber.errors.pattern">Введите верный гос. номер</div>
            </div>
          </div>
          <div class="col-sm-1">VIN номер</div>
          <div class="col-sm-3">
            <input type="text" class="form-control"
                   placeholder="vin"
                   [(ngModel)]="formAdvert.vin"
                   required
                   name="vin"
                   #vin="ngModel">
            <div class="errors" *ngIf="vin.invalid && vin.touched">
              <div *ngIf="vin.errors.required">Введите город</div>

            </div>
          </div>
        </div>
        <div class="row" style="margin-top: 20px">
          <div class="col-sm-1 sel">СТС</div>
          <div class="col-sm-5">
            <input type="text" class="form-control"
                   placeholder="СТС"
                   [(ngModel)]="formAdvert.sts"
                   required
                   minlength="10"
                   maxlength="10"
                   name="sts"
                   #sts="ngModel">
            <div class="errors" *ngIf="sts.invalid && sts.touched">
              <div *ngIf="sts.errors.required">Введите город</div>
              <div *ngIf="sts.errors.minlength">Назание не может быть меньше 3</div>
            </div>
          </div>
        </div>
        <hr/>
        <div class="row">
          <div class="col title">Комментрарий
          </div>
        </div>
        <hr/>
        <div class="row" >
          <div class="col-sm-5" style="margin-left: auto;margin-right: auto">
            <textarea type="text" class="form-control"
                      [(ngModel)]="formAdvert.commentns"
                      required
                      name="commentns"
                      #commentns="ngModel"></textarea>
            <div class="errors" *ngIf="commentns.invalid && commentns.touched">
              <div *ngIf="commentns.errors.required">Введите город</div>
            </div>
          </div>
        </div>


        <div class="row">
          <div style="margin-right: auto; margin-left: auto">
            <button type="submit" [disabled]="!createForm.valid" class="btn btn-primary b">Создать
            </button>
            <button type="submit" (click)="createForm.reset()" class="btn btn-primary b r">
              Сбросить
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

<ng-template #el>

  <div class="custcont" style="border-color: #591212" >
    <div style="text-align: center">
  У вас закрыт доступ к этой странице
    </div>
  </div>

</ng-template>
